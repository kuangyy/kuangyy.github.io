(function(c){var t=c("#search-form-wrap"),a=false,e=200;var n=function(){a=true};var i=function(t){setTimeout(function(){a=false;t&&t()},e)};c("#nav-search-btn").on("click",function(){if(a)return;n();t.addClass("on");i(function(){c(".search-form-input").focus()})});c(".search-form-input").on("blur",function(){n();t.removeClass("on");i()});c("body").on("click",function(){c(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(t){t.stopPropagation();var a=c(this),e=a.attr("data-url"),n=encodeURIComponent(e),i="article-share-box-"+a.attr("data-id"),o=a.offset();if(c("#"+i).length){var r=c("#"+i);if(r.hasClass("on")){r.removeClass("on");return}}else{var s=['<div id="'+i+'" class="article-share-box">','<input class="article-share-input" value="'+e+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+n+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+n+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+n+'" class="article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+n+'" class="article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join("");var r=c(s);c("body").append(r)}c(".article-share-box.on").hide();r.css({top:o.top+25,left:o.left}).addClass("on")}).on("click",".article-share-box",function(t){t.stopPropagation()}).on("click",".article-share-box-input",function(){c(this).select()}).on("click",".article-share-box-link",function(t){t.preventDefault();t.stopPropagation();window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")});c(".article-entry").each(function(t){c(this).find("img").each(function(){if(c(this).parent().hasClass("fancybox"))return;var t=this.alt;if(t)c(this).after('<span class="caption">'+t+"</span>");c(this).wrap('<a href="'+this.src+'" title="'+t+'" class="fancybox"></a>')});c(this).find(".fancybox").each(function(){c(this).attr("rel","article"+t)})});if(c.fancybox){c(".fancybox").fancybox()}var o=c("#container"),r=false,s=200;var l=function(){r=true};var f=function(){setTimeout(function(){r=false},s)};c("#main-nav-toggle").on("click",function(){if(r)return;l();o.toggleClass("mobile-nav-on");f()});c("#wrap").on("click",function(){if(r||!o.hasClass("mobile-nav-on"))return;o.removeClass("mobile-nav-on")})})(jQuery);