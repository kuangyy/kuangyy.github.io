!function(){var u={el:$(document),data:{timenow:new Array,time:new Array,nowplay:0},selector:{musiclist:"#musiclist",musictext:"#music-text",musictime:"#music-time",musicprogress:"#music-progress",play:"#music-play",pause:"#music-pause",prev:"#music-prev",next:"#music-next"},events:function(){this.el.on("click",this.selector.play,this.eventsCallBack.musicplay);this.el.on("click",this.selector.pause,this.eventsCallBack.musicpause);this.el.on("click",this.selector.prev,this.eventsCallBack.musicprev);this.el.on("click",this.selector.next,this.eventsCallBack.musicnext);this.eventsCallBack.timesync()},eventsCallBack:{musicplay:function(t){$(u.selector.play).hide();$(u.selector.pause).show();$(u.selector.musiclist)[0].play();var e=$(u.selector.musiclist).children();$(u.selector.musictext).html($(e[u.data.nowplay]).attr("name")+"<br>"+$(e[u.data.nowplay]).attr("author"))},musicpause:function(t){$(u.selector.pause).hide();$(u.selector.play).show();$(u.selector.musiclist)[0].pause()},musicprev:function(t){$(u.selector.play).hide();$(u.selector.pause).show();var e=$(u.selector.musiclist).children();u.data.nowplay--;if(u.data.nowplay<0)u.data.nowplay=e.length-1;$(u.selector.musiclist).attr("src",$(e[u.data.nowplay]).attr("src"));$(u.selector.musictext).html($(e[u.data.nowplay]).attr("name")+"@"+$(e[u.data.nowplay]).attr("author"));$(u.selector.musiclist)[0].play()},musicnext:function(t){$(u.selector.play).hide();$(u.selector.pause).show();var e=$(u.selector.musiclist).children();u.data.nowplay++;if(u.data.nowplay>=e.length)u.data.nowplay=0;$(u.selector.musiclist).attr("src",$(e[u.data.nowplay]).attr("src"));$(u.selector.musictext).html($(e[u.data.nowplay]).attr("name")+"@"+$(e[u.data.nowplay]).attr("author"));$(u.selector.musiclist)[0].play()},timesync:function(){var t=window.setInterval(function(){var t=$(u.selector.musiclist);var e=t[0].duration;var a=t[0].currentTime;u.data.time[0]=a;var s=Math.floor(e/60)>9?Math.floor(e/60):"0"+Math.floor(e/60);var l=Math.floor(e%60)>9?Math.floor(e%60):"0"+Math.floor(e%60);var i=Math.floor(a/60)>9?Math.floor(a/60):"0"+Math.floor(a/60);var c=Math.floor(a%60)>9?Math.floor(a%60):"0"+Math.floor(a%60);var r=$(u.selector.musicprogress);var o=r.css("width");o=$("#musiclist").css("width");var n=parseInt(o);r.animate({width:a/e*100});r.attr("aria-valuenow",a/e);$(u.selector.musictime).html(i+":"+c+"/"+s+":"+l)},1e3)}},init:function(){this.events()}};u.init()}();