!function(e){document.addEventListener("mousemove",t,true);document.addEventListener("mouseup",l,true);document.addEventListener("mousedown",u,true);document.addEventListener("dblclick",d,true);var i,o;var n,r;function a(t){console.log(t);e.onTextClick&&e.onTextClick()}function t(t){i=t.clientX,o=t.clientY}function c(){var t={text:"",pos:-1};if(o==0||o==0){return t}var e=document.caretRangeFromPoint(i,o);if(!e){return t}if(e.startContainer.data){var n=null;if(e.startContainer.getBoundingClientRect){n=e.startContainer.getBoundingClientRect()}else if(e.startContainer.parentElement&&e.startContainer.parentElement.getBoundingClientRect){n=e.startContainer.parentElement.getBoundingClientRect()}if(n==null||n&&n.left<i&&i<n.right&&n.top<o&&o<n.bottom){t.text=e.startContainer.data;t.pos=e.startOffset;return t}}return t}function u(t){n=t.clientX;r=t.clientY}function l(t){if(Math.abs(t.clientX-n)>2||Math.abs(t.clientY-r)>2){var e=document.selection==undefined?document.getSelection().toString():document.selection.createRange().text;if(e!=""){if(e.length>2e3)e=e.substr(0,2e3);a(e)}}}function d(t){var e=document.selection==undefined?document.getSelection().toString():document.selection.createRange().text;if(e!=""){if(e.length>2e3)e=e.substr(0,2e3);a(e)}}}(document);