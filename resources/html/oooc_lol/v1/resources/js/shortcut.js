shortcut={all_shortcuts:{},add:function(h,v,y){var e={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(y)for(var t in e)"undefined"==typeof y[t]&&(y[t]=e[t]);else y=e;e=y.target,"string"==typeof y.target&&(e=document.getElementById(y.target)),h=h.toLowerCase(),t=function(e){e=e||window.event;if(y.disable_in_input){var t;e.target?t=e.target:e.srcElement&&(t=e.srcElement),3==t.nodeType&&(t=t.parentNode);if("INPUT"==t.tagName||"TEXTAREA"==t.tagName)return}e.keyCode?code=e.keyCode:e.which&&(code=e.which),t=String.fromCharCode(code).toLowerCase(),188==code&&(t=","),190==code&&(t=".");var a=h.split("+"),o=0,n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},r={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},c=!1,l=!1,s=!1,d=!1,p=!1,i=!1,f=!1,u=!1;e.ctrlKey&&(d=!0),e.shiftKey&&(l=!0),e.altKey&&(i=!0),e.metaKey&&(u=!0);for(var g=0;k=a[g],g<a.length;g++)"ctrl"==k||"control"==k?(o++,s=!0):"shift"==k?(o++,c=!0):"alt"==k?(o++,p=!0):"meta"==k?(o++,f=!0):1<k.length?r[k]==code&&o++:y.keycode?y.keycode==code&&o++:t==k?o++:n[t]&&e.shiftKey&&(t=n[t],t==k&&o++);if(o==a.length&&d==s&&l==c&&i==p&&u==f&&(v(e),!y.propagate))return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1},this.all_shortcuts[h]={callback:t,target:e,event:y.type},e.addEventListener?e.addEventListener(y.type,t,!1):e.attachEvent?e.attachEvent("on"+y.type,t):e["on"+y.type]=t},remove:function(e){var e=e.toLowerCase(),t=this.all_shortcuts[e];delete this.all_shortcuts[e];if(t){var e=t.event,a=t.target,t=t.callback;a.detachEvent?a.detachEvent("on"+e,t):a.removeEventListener?a.removeEventListener(e,t,!1):a["on"+e]=!1}}};